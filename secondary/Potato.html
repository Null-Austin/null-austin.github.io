<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Existential Crisis Potato</title>
</head>
<body>
    <div id="container"><img src="https://u.cubeupload.com/Nulla/edLIr7.png" alt="image of the Potato" srcset="" id="potato"></div>
    <div id="screenshot"></div>
    <button id="share-button" onclick="takeshot()">share!</button>
</body>
</html>
<style>
body,html{
    height: 100%;
}
body{
    background-color: rgb(33, 33, 33);
    display: grid;
    place-items: center;
    #container{
        img{
            margin: auto;
            width: 350px;
            -webkit-filter: drop-shadow(1px 1px 0 black) drop-shadow(-1px -1px 0 black);
            filter:drop-shadow(1px 1px 0 black) drop-shadow(-1px -1px 0 black);
        }
        #message{
            margin: auto;
            max-width: 400px;
            background-color: rgb(186, 186, 186);
            border-radius: 10px;
            border: 2px black solid;
            padding: 3px;
            text-align: center;
            transform: translateY(-75px);
        }
    }
}
.angy{
    animation-duration: 3s;
    animation-name: angy;
}
@keyframes angy {
    0%{
        transform: rotateY(00deg);
    }
    25%{
        transform: rotateY(900deg);
    }
    100%{
        transform: rotateY(-720deg);
    }
}
</style>
<script>
//basic vars
const _potato_ = document.getElementById('potato')
const _container_ = document.getElementById('container')

//modes, and ect.
var keeptalking = true
var deep = false
var messages = 0 //does nothing :(

//uh, half of these are made by me, the other half is ai. ai is taking over.
const __messages__ = ['01101000 01101001','Hi!','How are you?','Im going insane...','192.168.7.1 :D','Im the stalker? Your the stalker.','Learn to code! #coding is #awesome!','Null-Austin on github.','life...','1+1=2 according to axioms?!','math cool.','egielsh hard.',`How do you stand me???`,"I just realized... I'm made of code. Am I even real?","Do you think pigeons have existential crises too?","I tried to divide by zero once. It didn't end well.","Why do we park in driveways and drive on parkways?","I’m not a robot, but I play one on the internet.","If I were a vegetable, I’d be a <i>*dramatic*</i> potato.","I’m not saying I’m a genius, but I did invent the wheel in my spare time.","What if we’re all just NPCs in someone else’s video game?"]
const __sus_messages__ = ['What happens if all of this is someone else\'s dream?','I know your deepest fear... Elmo...','What are you thinking?',"What if I told you... I’m not the only one watching you?","I can see you blinking. Stop it.","I know what you did last summer... and it was *weird*.","What if I told you... I’m not the real Null-Austin?","I’m not saying I’m a ghost, but have you ever seen me in real life?","What if I told you... I’m actually a potato in disguise?","What if I told you... I’m not the one who’s sus, *you are*?","What if I told you... I’m not the one who’s stalking you, *your cat is*?","I’m not saying I’m a time traveler, but I did just send you a message from the past.","I’m not saying I’m a spy, but I did just steal your cookies... and your browser cookies.","What if I told you... I’m not the one who’s paranoid, *your fridge is*?"]

//just removes the last message, and then shows a new one.
function _message_(message){
    if (document.getElementById('message')){
        document.getElementById('message').remove()
    }
    var p = document.createElement('p')
    p.innerHTML = message
    p.id = 'message'
    _container_.appendChild(p)
}

//just a simple function to update the function
function __send__() {
    if (keeptalking){
        messages++
        if (deep){
            _message_(__sus_messages__[Math.floor(Math.random() * __sus_messages__.length)])
        }
        else if (!deep){
            _message_(__messages__[Math.floor(Math.random() * __messages__.length)])
        }
    }
}

//just a simple update function every 500 ms
const __update__ = setInterval(() => {
    __send__()
}, 5000);

__send__()

//uh, idk why i did not put this with the rest of the vars. whatever.
var wait = false

document.addEventListener('keydown',(event) => {
    if (!wait){
        if (event.keyCode == '32'){
            if (!deep){
                deep = !deep //too lazy to type true :D
            }
            _potato_.classList.add('angy')
            wait = true
            keeptalking = false
            _message_('im having a existential crises')
            _potato_.addEventListener('animationend',() => {
                wait = false
                _potato_.classList.remove('angy')
                keeptalking = true
            })
        }
    }
})
// :D if you did read all of the comments ur cool

//originally token off the web :( but holy cow i changed it, nothings the same.
function takeshot() {
    _container_.style.backgroundColor = document.body.backgroundColor
    document.getElementById('share-button').style.display = 'none'
    html2canvas(_container_,{letterRendering: 1, allowTaint: true}).then(canvas => {
        var win = window.open('','','width="300px",height="600px"')
        win.document.body.innerHTML = 'Right click image to download image. sorry old fasion :('
        win.document.body.appendChild(canvas)
    })
    document.getElementById('share-button').style.display = 'block'
}

</script>
